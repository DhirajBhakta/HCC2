{% extends "pharma/basePharmaTemplate.html" %}

{% block head %}
{{super()}}
<style>
.autocompl_drugname{
  width:100%;
}
.tablehead th{
  color:white;
}
.error {
  background-color : #faa;
}
</style>
{% endblock %}





<!--body-->
{% block emptyspace %}
<form onsubmit="send_new_drug_details(); return false;">
  <h1>Add a new Drug</h1>
  <div class="form-group">
    <label for="trade_name">Trade Name</label>
    <input type="text" class="form-control" id="trade_name" placeholder="Enter Trade Name of the new drug">
  </div>
  <div class="form-group">
    <label for="generic_name">Generic Name</label>
    <input type="text" class="form-control" id="generic_name" placeholder="Enter Generic Name of the new drug">
  </div>
  <div class="form-group">
    <label for="rack_id">Rack</label>
    <select id="rack_id" class="custom-select">
      <option selected>Select rack ID</option>
        {% for rack_id in rack_ids %}
           <option  value="{{ rack_id }}">{{ rack_id }}</option>
        {% endfor %}
  </select>
  </div>

  <button type="submit" class="btn btn-primary">Submit</button>
</form>

{% endblock %}

<!--JS-->
{% block extrascripts %}
<script type="text/javascript" src="/static/js/date.js"></script>
<script>
//The Recieved JSON drugList
var druglist=[];

//On Load
$(document).ready(function() {

  // //Get drug list from server
  // $.get("/pharma/getDruglist",function (data){
  // 	 data = $.parseJSON(data);
  //    for(var i=0;i<data.length;i++)
  //      druglist[i] = data[i];
  //   });
  //
  // //Add the trigger to first input
  // first_input = $('.autocompl_drugname')[0];
  // input_eventlistener_adder(first_input);
  // $(first_input).autocomplete({
  //   source:druglist
  // });
  //
  // //First input is required
  // $(first_input).attr('required','true')



});

function send_new_drug_details(){
  trade_name = $('#trade_name').val();
  generic_name = $('#generic_name').val();
  rack_id = $('#rack_id').val();
  $.post("/pharma/inventory/addNewDrug",{generic_name:generic_name, trade_name: trade_name, rack_id:rack_id});

}



</script>



{% endblock %}
